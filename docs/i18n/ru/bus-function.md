# Как использовать функцию шины

Функция шины обеспечивает гибкую маршрутизацию аудиосигнала между эффектами, что позволяет выполнять более сложную и универсальную обработку звука.

## Основная концепция

- Каждый эффект позволяет указать **Входную шину**, которая принимает аудиосигнал для обработки, и **Выходную шину**, которая выводит обработанный звук.
- По умолчанию, если не указано иное, каждый эффект использует **Основную шину** как для входа, так и для выхода.
- Можно использовать до четырех дополнительных шин (**Шина 1 — Шина 4**).

![Функция шины](../../../images/bus_function.png)

## Настройка входных и выходных шин для эффектов

- Нажмите на кнопку **Маршрутизации**, расположенную слева от кнопок регулировки вверх/вниз, отображаемых для каждого эффекта.
- При нажатии на кнопку маршрутизации открывается диалог настроек, позволяющий свободно выбрать входную и выходную шины из списка: Основная шина или Шина 1 — Шина 4.
- Изменения вступают в силу немедленно.
- Чтобы закрыть диалог, нажмите на кнопку × в правом верхнем углу или щелкните вне диалога.

- Если вход или выход установлены на Шину 1 или выше, рядом с кнопкой маршрутизации будет отображаться надпись «Шина X→Шина Y».
  - Пример: при обработке звука со Шины 2 и выводе на Шину 3 будет отображаться «Шина 2→Шина 3».

## Механизм обработки звука

- Эффекты обрабатываются последовательно сверху вниз.
- Каждый эффект принимает аудиосигналы с указанной входной шины, обрабатывает их и отправляет результат на выходную шину.
- Если входная шина используется впервые, обработка начинается с тишины.
- Если входная и выходная шины совпадают, аудиосигнал на выходной шине перезаписывается обработанным результатом.
- Если для входа и выхода указаны разные шины, обработанный звук добавляется к аудиосигналу на выходной шине.
- В конечном итоге воспроизведение звука всегда осуществляется с **Основной шины**.

[← Назад к README](README.md)
